(this["webpackJsonpjamesroberts.github.io"]=this["webpackJsonpjamesroberts.github.io"]||[]).push([[4],{11:function(e,n,t){"use strict";t.r(n);var o=t(1),c=t(0),i=(t(34),t(63)),a=t(35),s=t.n(a),l=t(81),r=t(80),u=t(37),j=t.n(u);function d(){var e=Object(c.useState)(""),n=Object(i.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(new s.a),d=Object(i.a)(u,2),b=d[0],g=(d[1],Object(c.useState)("")),f=Object(i.a)(g,2),O=f[0],h=f[1],p=Object(c.useState)(null),m=Object(i.a)(p,2),v=(m[0],m[1]),x=Object(c.useState)(null),w=Object(i.a)(x,2),S=w[0],C=w[1],y=Object(c.useState)(null),D=Object(i.a)(y,2),k=D[0],E=D[1];return Object(c.useEffect)((function(){b.on("open",(function(e){a(e)})),b.on("connection",(function(e){e.on("data",(function(e){console.log(e)})),e.on("open",(function(){console.log("Connection opened"),console.log("Connected to :"+e.peer)})),v(e),h(e.peer)})),b.on("call",(function(e){h(e.peer),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then((function(n){console.log("Answering media stream.."),console.log(n),e.answer(n),E(n),e.on("stream",(function(e){console.log("Setting stream from caller"),C(e)}))})).catch((function(e){console.log(e)}))})),console.log("Peer initialized")}),[b]),Object(c.useEffect)((function(){console.log("Streams updated"),console.log(k),console.log(S)}),[k,S]),Object(o.jsxs)("div",{children:[Object(o.jsx)(l.a,{onChange:function(e){return h(e.target.value)}}),Object(o.jsx)(r.a,{variant:"contained",color:"primary",onClick:function(){console.log("Calling..."),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then((function(e){E(e);var n=b.call(O,e);n.on("stream",(function(e){console.log("Setting stream from peer"),C(e)})),v(n)})).catch((function(e){console.log(e)}))},children:" Call "}),Object(o.jsxs)("div",{children:["MY ID: "+t,Object(o.jsx)("br",{}),"Connecting to: "+O]}),Object(o.jsxs)("div",{style:{position:"relative",top:0,right:0,marginBottom:250,marginTop:25},children:[Object(o.jsx)("div",{children:Object(o.jsx)(j.a,{url:S,playing:!0,width:"100%",height:"100%"})}),Object(o.jsx)("div",{style:{position:"absolute",top:0,right:0},children:Object(o.jsx)(j.a,{url:k,playing:!0,width:"25%",height:"25%"})})]})]})}n.default=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)(d,{})})})}},34:function(e,n,t){},36:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=36}}]);
//# sourceMappingURL=4.7ec62bf8.chunk.js.map