{"version":3,"sources":["logo.svg","components/RequestButton.tsx","components/PeerJs.tsx","App.tsx","../node_modules/peerjs/dist sync"],"names":["RequestButton","Button","variant","color","onClick","getRequest","axios","get","then","response","console","log","catch","error","PeerJs","useState","id","setId","Peer","peer","friendId","setFriendId","conn","setConn","peerStream","setPeerStream","myStream","setStream","useEffect","on","data","call","navigator","mediaDevices","getUserMedia","audio","video","mediaStream","answer","stream","err","Input","onChange","event","target","value","send","connect","style","position","top","right","border","background","url","playing","width","height","App","className","src","logo","alt","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/4.5f78da00.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\nimport { Button } from '@material-ui/core';\nimport axios from 'axios';\n\nexport default function RequestButton() {\n\n    return <Button variant=\"contained\" color=\"primary\" onClick={getRequest}> Get </Button>\n}\n\nfunction getRequest() {\n    // Make a request for a user with a given ID\n    axios.get('https://jsonplaceholder.typicode.com/todos/1')\n        .then(function (response) {\n            // handle success\n            console.log(response);\n        })\n        .catch(function (error) {\n            // handle error\n            console.log(error);\n        })\n        .then(function () {\n            // always executed\n        });\n}","import Peer from 'peerjs';\nimport React, { useState, useEffect } from 'react'\nimport { Button, Input } from '@material-ui/core';\nimport VideoChat from \"./VideoChat\";\nimport ReactPlayer from 'react-player'\n\nexport default function PeerJs() {\n\n    const [id, setId] = useState(\"\");\n    const [peer, setPeer] = useState(new Peer());\n    const [friendId, setFriendId] = useState('');\n    const [conn, setConn] = useState<any>(null);\n    const [peerStream, setPeerStream] = useState<any>(null);\n    const [myStream, setStream] = useState<any>(null);\n\n    useEffect(() => {\n        peer.on('open', function (id: any) {\n            setId(id)\n        });\n\n        peer.on('connection', function (conn: any) {\n            conn.on('data', function (data: any) {\n                console.log(data);\n            });\n            conn.on('open', () => {\n                console.log(\"Connection opened\");\n                console.log(\"Connected to :\" + conn.peer);\n            });\n            setConn(conn);\n            setFriendId(conn.peer);\n        });\n        peer.on('call', function (call) {\n            // Answer the call, providing our mediaStream\n            setFriendId(call.peer);\n            navigator.mediaDevices.getUserMedia({ audio: false, video: true })\n                .then(function (mediaStream) {\n                    console.log(\"Answering media stream..\");\n                    console.log(mediaStream);\n                    setStream(mediaStream);\n                    call.answer(mediaStream);\n                    call.on('stream', function (stream) {\n                        console.log(\"Setting stream from caller\");\n                        setPeerStream(stream);\n                    });\n                })\n                .catch(function (err) {\n                    console.log(err);\n                });\n        });\n\n        console.log(\"Peer initialized\");\n    }, [peer]);\n\n    useEffect(() => {\n        console.log(\"Streams updated\");\n        console.log(myStream);\n        console.log(peerStream);\n    }, [myStream, peerStream])\n\n    function send() {\n        if (conn) {\n            conn.send('Hello!');\n        }\n    }\n\n    function connect() {\n        console.log(\"Connecting...\");\n        let conn = peer.connect(friendId);\n        conn.on('data', function (data: any) {\n            console.log(data);\n        });\n        setConn(conn);\n    }\n\n    function call() {\n        console.log(\"Calling...\");\n        navigator.mediaDevices.getUserMedia({ audio: false, video: true })\n            .then(function (stream) {\n                setStream(stream);\n                let call = peer.call(friendId, stream);\n                call.on('stream', function (stream) {\n                    console.log(\"Setting stream from peer\");\n                    setPeerStream(stream);\n                });\n                setConn(call);\n            })\n            .catch(function (err) {\n                console.log(err);\n            });\n    }\n\n    return (\n        <div>\n            <Input onChange={event => setFriendId(event.target.value)} />\n            <Button variant=\"contained\" color=\"primary\" onClick={send}> Send </Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={connect}> Conect </Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={call}> Call </Button>\n\n            <div>\n                {\"MY ID: \" + id}\n                <br />\n                {\"Connecting to: \" + friendId}\n            </div>\n            <div style={{ position: \"relative\", top: 0, right: 0, border: \"10px solid black\", background: \"black\" }} >\n                <div>\n                    <ReactPlayer url={peerStream} playing={true} />\n                </div>\n                <div style={{ position: \"absolute\", top: 0 }}>\n                    <ReactPlayer url={myStream} playing={true} width=\"25%\" height=\"25%\" />\n                </div>\n            </div>\n\n        </div >\n    )\n}\n\n\n\n\n\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n// import InstallButton from './components/InstallButton';\nimport RequestButton from './components/RequestButton';\nimport PeerJs from './components/PeerJs';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p> Hello James </p>\n        {/* <InstallButton /> */}\n        <RequestButton />\n        <PeerJs />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;"],"sourceRoot":""}